<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CV - {{header.name}}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Courier New', Courier, monospace;
      background-color: #f5f5f5;
      padding: 20px;
      font-size: 11pt;
      line-height: 1.6;
      color: #2c3e50;
    }

    .cv-container {
      max-width: 210mm;
      margin: 0 auto;
      background: white;
      padding: 40px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .prompt {
      color: #27ae60;
      font-weight: bold;
      font-size: 10pt;
      margin-bottom: 5px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header-separator {
      border: none;
      border-top: 2px solid #27ae60;
      margin: 10px 0;
    }

    .header h1 {
      font-size: 22pt;
      font-weight: bold;
      margin: 10px 0;
      letter-spacing: 2px;
    }

    .header .subtitle {
      font-size: 12pt;
      color: #555;
      letter-spacing: 1px;
    }

    /* Section titles */
    .section {
      margin-bottom: 30px;
      page-break-inside: avoid;
    }

    .section-title {
      color: #27ae60;
      font-size: 12pt;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .terminal-box {
      background-color: #ecf0f1;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 15px;
    }

    /* Experience */
    .experience-item {
      margin-bottom: 20px;
      page-break-inside: avoid;
    }

    .experience-header {
      margin-bottom: 8px;
    }

    .experience-period {
      color: #e74c3c;
      font-weight: bold;
    }

    .experience-company {
      font-weight: bold;
    }

    .experience-description {
      margin-left: 20px;
      margin-top: 8px;
    }

    .achievement-list {
      margin-left: 20px;
      margin-top: 5px;
    }

    .achievement-list li {
      margin-bottom: 3px;
    }

    .separator {
      border: none;
      border-top: 1px dashed #bdc3c7;
      margin: 15px 0;
    }

    /* Skills */
    .skills-grid {
      display: grid;
      gap: 8px;
    }

    .skill-line {
      display: flex;
      gap: 10px;
    }

    .skill-label {
      min-width: 120px;
      font-weight: bold;
    }

    .skill-value {
      color: #2980b9;
    }

    .skill-highlight {
      color: #e74c3c;
      font-weight: bold;
    }

    /* Education */
    .education-tree {
      margin-left: 20px;
    }

    .education-item {
      margin-bottom: 5px;
    }

    .tree-branch {
      color: #7f8c8d;
      margin-right: 5px;
    }

    .education-year {
      color: #e74c3c;
      font-weight: bold;
    }

    /* Languages */
    .language-item {
      margin-bottom: 5px;
    }

    .flag {
      margin-right: 8px;
    }

    /* Footer */
    .footer {
      margin-top: 40px;
      text-align: center;
    }

    .footer a {
      color: #2980b9;
      text-decoration: underline;
    }

    /* Print styles */
    @media print {
      body {
        background: white;
        padding: 0;
      }

      .cv-container {
        box-shadow: none;
        padding: 20px;
        max-width: 100%;
      }
    }

    @page {
      margin: 15mm;
      size: A4;
    }
  </style>
</head>
<body>
  <div class="cv-container">
    <!-- Header -->
    <div class="header">
      {{#if header.prompt}}
      <div class="prompt">{{header.prompt}}</div>
      {{/if}}
      <hr class="header-separator">
      <h1>{{header.name}}</h1>
      <div class="subtitle">{{header.title}}</div>
      <hr class="header-separator">
    </div>

    <!-- Identity Section -->
    {{#if identity.summary}}
    <div class="section">
      <div class="section-title">~/cv/identity: whoami</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        {{identity.summary}}
      </div>
    </div>
    {{/if}}

    <!-- Contact Section -->
    <div class="section">
      <div class="section-title">~/cv/contact: cat contact.txt</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        {{#if contact.email}}
        <div>üìß {{contact.email}}</div>
        {{/if}}
        {{#if contact.phone}}
        <div>üì± {{contact.phone}}</div>
        {{/if}}
        {{#if contact.location}}
        <div>üìç {{contact.location}}</div>
        {{/if}}
      </div>
    </div>

    <!-- Experience Section -->
    {{#if experiences}}
    <div class="section">
      <div class="section-title">~/cv/experience: cat experience.txt</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        {{#each experiences}}
        <div class="experience-item">
          <div class="experience-header">
            <span class="experience-period">[{{this.period}}]</span> ‚ñ∂
            <span class="experience-company">{{this.company}}</span> ‚Äì
            <span>{{this.position}}</span>
          </div>
          {{#if this.description}}
          <div class="experience-description">{{this.description}}</div>
          {{/if}}
          {{#if this.achievements}}
          <div class="achievement-list">
            {{{this.achievements}}}
          </div>
          {{/if}}
        </div>
        {{#unless @last}}
        <hr class="separator">
        {{/unless}}
        {{/each}}
      </div>
    </div>
    {{/if}}

    <!-- Skills Section -->
    {{#if skills.technical}}
    <div class="section">
      <div class="section-title">~/cv/skills: cat tech-skills.txt</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        <div style="border-top: 2px solid #7f8c8d; border-bottom: 2px solid #7f8c8d; padding: 10px 0; margin: 10px 0;">
          {{{skills.technical}}}
        </div>
      </div>
    </div>
    {{/if}}

    <!-- Education Section -->
    {{#if education}}
    <div class="section">
      <div class="section-title">~/cv/formation: tree</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        <div class="education-tree">
          .
          {{#each education}}
          <div class="education-item">
            <span class="tree-branch">{{#if @last}}‚îî‚îÄ‚îÄ{{else}}‚îú‚îÄ‚îÄ{{/if}}</span>
            <strong>{{this.degree}}</strong> {{this.institution}}
            <span class="education-year">{{this.year}}</span>
          </div>
          {{/each}}
        </div>
      </div>
    </div>
    {{/if}}

    <!-- Languages Section -->
    {{#if languages}}
    <div class="section">
      <div class="section-title">~/cv/langues: cat langues.txt</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        {{#each languages}}
        <div class="language-item">
          <span class="flag">üåê</span>
          <strong>{{this.name}}</strong> : {{this.level}}
        </div>
        {{/each}}
      </div>
    </div>
    {{/if}}

    <!-- Footer Section -->
    {{#if footer.website}}
    <div class="section footer">
      <div class="section-title">~/cv: cat signature.txt</div>
      <div class="terminal-box">
        <div class="prompt">{{header.prompt}}</div>
        {{#if footer.website}}
        <a href="{{footer.website}}" target="_blank">{{footer.website}}</a>
        {{/if}}
        {{#if footer.github}}
        <br><a href="{{footer.github}}" target="_blank">{{footer.github}}</a>
        {{/if}}
      </div>
    </div>
    {{/if}}
  </div>
</body>
</html>
